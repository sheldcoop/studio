
import type { Topic } from './types';

// Helper to create slugs from titles
const toSlug = (title: string) => title.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '');

const createAdvancedStatTopic = (module: string, title: string, description: string): Topic => {
    const slug = `stats-${toSlug(title)}`;
    return {
        id: slug,
        title,
        href: `/statistics/${slug}`, // Corrected href to point to the working statistics path
        icon: 'FunctionSquare',
        description,
        category: 'sub-topic',
        parent: module,
    };
};

export const statisticsTopics: Topic[] = [
  // Parent "topic" for Hypothesis testing
  {
    id: 'hypothesis-testing',
    title: 'Hypothesis Testing & P-Values',
    href: '/hypothesis-testing-p-values',
    icon: 'FunctionSquare',
    description: 'The detective work of data science.',
    category: 'sub-topic',
    parent: 'stat-toolkit',
  },

  // Parametric Tests (sub-topics of hypothesis testing)
  {
    id: 't-test',
    title: 'T-Test',
    href: '/topics/t-test',
    icon: 'FunctionSquare',
    description: 'Compares the means of two groups, assuming normal distribution.',
    category: 'parametric',
    parent: 'hypothesis-testing',
  },
  {
    id: 'z-test',
    title: 'Z-Test',
    href: '/topics/z-test',
    icon: 'FunctionSquare',
    description:
      'Compares means of large samples (n>30) with known population variance.',
    category: 'parametric',
    parent: 'hypothesis-testing',
  },
  {
    id: 'anova',
    title: 'ANOVA',
    href: '/topics/anova',
    icon: 'FunctionSquare',
    description: 'Compares the averages of three or more groups.',
    category: 'parametric',
    parent: 'hypothesis-testing',
  },
  {
    id: 'f-test',
    title: 'F-Test',
    href: '/topics/f-test',
    icon: 'FunctionSquare',
    description: 'Compares the variances (spread) of two or more groups.',
    category: 'parametric',
    parent: 'hypothesis-testing',
  },
  {
    id: 'pearson-correlation',
    title: 'Pearson Correlation',
    href: '/topics/pearson-correlation',
    icon: 'FunctionSquare',
    description:
      'Measures the linear relationship between two continuous variables.',
    category: 'parametric',
    parent: 'hypothesis-testing',
  },
  {
    id: 'chi-squared-test',
    title: 'Chi-Squared Test',
    href: '/topics/chi-squared-test',
    icon: 'FunctionSquare',
    description:
      'Analyzes categorical data to find significant relationships.',
    category: 'non-parametric',
    parent: 'hypothesis-testing',
  },

  // Non-Parametric Tests (sub-topics of hypothesis testing)
  {
    id: 'mann-whitney-u-test',
    title: 'Mann-Whitney U Test',
    href: '/topics/mann-whitney-u-test',
    icon: 'FunctionSquare',
    description:
      'Alternative to the T-Test when data is not normally distributed.',
    category: 'non-parametric',
    parent: 'hypothesis-testing',
  },
  {
    id: 'kruskal-wallis-test',
    title: 'Kruskal-Wallis Test',
    href: '/topics/kruskal-wallis-test',
    icon: 'FunctionSquare',
    description: 'Alternative to ANOVA for comparing three or more groups.',
    category: 'non-parametric',
    parent: 'hypothesis-testing',
  },
  {
    id: 'wilcoxon-signed-rank-test',
    title: 'Wilcoxon Signed-Rank Test',
    href: '/topics/wilcoxon-signed-rank-test',
    icon: 'FunctionSquare',
    description:
      'Alternative to the paired T-Test for repeated measurements.',
    category: 'non-parametric',
    parent: 'hypothesis-testing',
  },
  {
    id: 'spearmans-rank-correlation',
    title: "Spearman's Rank Correlation",
    href: '/topics/spearmans-rank-correlation',
    icon: 'FunctionSquare',
    description:
      'Measures the monotonic relationship between two ranked variables.',
    category: 'non-parametric',
    parent: 'hypothesis-testing',
  },
  {
    id: 'friedman-test',
    title: 'Friedman Test',
    href: '/topics/friedman-test',
    icon: 'FunctionSquare',
    description:
      'The non-parametric alternative to a repeated-measures ANOVA.',
    category: 'non-parametric',
    parent: 'hypothesis-testing',
  },
  {
    id: 'kolmogorov-smirnov-k-s-test',
    title: 'Kolmogorov-Smirnov (K-S) Test',
    href: '/topics/kolmogorov-smirnov-k-s-test',
    icon: 'FunctionSquare',
    description: 'Tests if a sample is drawn from a specific distribution.',
    category: 'non-parametric',
    parent: 'hypothesis-testing',
  },

  // Stat Toolkit Parent Categories
  {
    id: 'stats-foundations',
    title: 'Tier 1: The Absolute Foundations',
    href: '#',
    icon: 'FolderKanban',
    description: '',
    category: 'parent',
  },
  {
    id: 'stats-intermediate',
    title: 'Tier 2: Intermediate & Specialized Tools',
    href: '#',
    icon: 'FolderKanban',
    description: '',
    category: 'parent',
  },
  {
    id: 'stats-advanced',
    title: 'Tier 3: Advanced & Quant-Specific Concepts',
    href: '#',
    icon: 'FolderKanban',
    description: '',
    category: 'parent',
  },
    
  // Stat Toolkit Tier 1
  {
    id: 'demystifying-hypothesis-testing',
    title: "Demystifying Hypothesis Testing: A Beginner's Guide",
    href: '/topics/demystifying-hypothesis-testing',
    icon: 'FunctionSquare',
    description: 'A step-by-step guide to making decisions from data.',
    category: 'sub-topic',
    parent: 'stats-foundations',
  },
  {
    id: 'confidence-intervals',
    title: 'Confidence Intervals',
    href: '/topics/confidence-intervals',
    icon: 'FunctionSquare',
    description: 'Understanding the range where a true value likely lies.',
    category: 'sub-topic',
    parent: 'stats-foundations',
  },
  {
    id: 'z-table',
    title: 'Z-Table Calculator',
    href: '/topics/z-table',
    icon: 'FunctionSquare',
    description: 'Calculate probabilities from Z-scores and vice-versa.',
    category: 'sub-topic',
    parent: 'stats-foundations',
  },
  {
    id: 'descriptive-statistics-explorer',
    title: 'Descriptive Statistics Explorer',
    href: '/topics/statistics/descriptive-statistics-explorer',
    icon: 'FunctionSquare',
    description: 'Interactive guide to mean, median, mode, variance, skewness, and kurtosis.',
    category: 'sub-topic',
    parent: 'stats-foundations',
  },
  {
    id: 'normal-distribution',
    title: 'The Normal Distribution',
    href: '/topics/statistics/normal-distribution',
    icon: 'FunctionSquare',
    description: 'The ubiquitous "bell curve."',
    category: 'sub-topic',
    parent: 'stats-foundations',
  },
  {
    id: 'central-limit-theorem',
    title: 'The Central Limit Theorem (CLT)',
    href: '/topics/central-limit-theorem',
    icon: 'FunctionSquare',
    description: 'Discover how order emerges from chaos.',
    category: 'sub-topic',
    parent: 'stats-foundations',
  },
  {
    id: 'type-i-and-type-ii-errors',
    title: 'Type I & Type II Errors',
    href: '/topics/type-i-and-type-ii-errors',
    icon: 'FunctionSquare',
    description: 'The trade-off between false alarms and missed signals.',
    category: 'sub-topic',
    parent: 'stats-foundations',
  },
  {
    id: 'correlation-vs-causation',
    title: 'Correlation vs. Causation',
    href: '/correlation-vs-causation',
    icon: 'FunctionSquare',
    description: "Don't confuse association with influence.",
    category: 'sub-topic',
    parent: 'stats-foundations',
  },
  {
    id: 'linear-regression',
    title: 'Linear Regression',
    href: '/topics/linear-regression',
    icon: 'FunctionSquare',
    description: 'Modeling the relationship between variables.',
    category: 'sub-topic',
    parent: 'stats-foundations',
  },

  // Stat Toolkit Tier 2
  {
    id: 'logistic-regression',
    title: 'Logistic Regression',
    href: '/statistics/logistic-regression',
    icon: 'FunctionSquare',
    description: '',
    category: 'sub-topic',
    parent: 'stats-intermediate',
  },

  // Stat Toolkit Tier 3
  {
    id: 'monte-carlo-simulation',
    title: 'Monte Carlo Simulation',
    href: '/topics/monte-carlo-simulation',
    icon: 'FunctionSquare',
    description: '',
    category: 'sub-topic',
    parent: 'stats-advanced',
  },
  {
    id: 'time-series-decomposition',
    title: 'Time Series Decomposition',
    href: '/statistics/time-series-decomposition',
    icon: 'FunctionSquare',
    description: '',
    category: 'sub-topic',
    parent: 'stats-advanced',
  },
  {
    id: 'autocorrelation-acf-pacf',
    title: 'Autocorrelation (ACF & PACF)',
    href: '/statistics/autocorrelation-acf-pacf',
    icon: 'FunctionSquare',
    description: '',
    category: 'sub-topic',
    parent: 'stats-advanced',
  },
  {
    id: 'volatility-garch',
    title: 'Volatility &amp; Standard Deviation (GARCH)',
    href: '/statistics/volatility-garch',
    icon: 'FunctionSquare',
    description: '',
    category: 'sub-topic',
    parent: 'stats-advanced',
  },
  {
    id: 'efficient-frontier-sharpe-ratio',
    title: 'Efficient Frontier &amp; Sharpe Ratio',
    href: '/statistics/efficient-frontier-sharpe-ratio',
    icon: 'FunctionSquare',
    description: '',
    category: 'sub-topic',
    parent: 'stats-advanced',
  },
  {
    id: 'kalman-filters',
    title: 'Kalman Filters',
    href: '/statistics/kalman-filters',
    icon: 'FunctionSquare',
    description: '',
    category: 'sub-topic',
    parent: 'stats-advanced',
  },
  {
    id: 'stochastic-calculus-itos-lemma',
    title: "Stochastic Calculus &amp; Ito's Lemma",
    href: '/statistics/stochastic-calculus-itos-lemma',
    icon: 'FunctionSquare',
    description: '',
    category: 'sub-topic',
    parent: 'stats-advanced',
  },
  
  // --- Advanced Statistics Learning Path Modules ---
  
  // Module 1: Foundations in Probability & Random Variables
  createAdvancedStatTopic('stats-mod-1', 'Set Theory, Sample Spaces, and Events', 'Understanding the building blocks of probability.'),
  createAdvancedStatTopic('stats-mod-1', "Axioms of Probability (Kolmogorov)", 'The three fundamental rules that govern all of probability.'),
  createAdvancedStatTopic('stats-mod-1', 'Conditional Probability and Independence', 'How the occurrence of one event affects another.'),
  createAdvancedStatTopic('stats-mod-1', "Law of Total Probability and Bayes' Theorem", 'Updating your beliefs in the face of new evidence.'),
  createAdvancedStatTopic('stats-mod-1', 'Probability Mass Functions (PMF) and Cumulative Distribution Functions (CDF)', 'Describing the probabilities of discrete outcomes.'),
  createAdvancedStatTopic('stats-mod-1', 'Expected Value E[X], Variance Var[X], and Standard Deviation', 'Calculating the center and spread of a random variable.'),
  createAdvancedStatTopic('stats-mod-1', 'Common Discrete Distributions (Binomial, Poisson, Geometric)', 'Exploring key models for discrete random events.'),
  createAdvancedStatTopic('stats-mod-1', 'Moment Generating Functions (MGFs) for Discrete R.V.s', 'A powerful tool for analyzing distributions.'),
  createAdvancedStatTopic('stats-mod-1', 'Probability Density Functions (PDF) and CDF', 'Describing the probabilities of continuous outcomes.'),
  createAdvancedStatTopic('stats-mod-1', 'Expected Value and Variance via Integration', 'Applying calculus to find the moments of continuous variables.'),
  createAdvancedStatTopic('stats-mod-1', 'Common Continuous Distributions (Uniform, Exponential, Gamma)', 'Exploring key models for continuous random events.'),
  createAdvancedStatTopic('stats-mod-1', 'MGFs for Continuous R.V.s', 'Extending moment generating functions to continuous cases.'),
  createAdvancedStatTopic('stats-mod-1', 'Joint PMFs and Joint PDFs', 'Modeling the behavior of multiple random variables at once.'),
  createAdvancedStatTopic('stats-mod-1', 'Marginal and Conditional Distributions', "Isolating one variable's behavior from a joint distribution."),
  createAdvancedStatTopic('stats-mod-1', 'Covariance Cov(X, Y) and Correlation ρ', 'Measuring how two random variables move together.'),
  createAdvancedStatTopic('stats-mod-1', 'Independence of Random Variables', 'Defining when two variables have no influence on each other.'),

  // Module 2: Key Distributions & Asymptotic Theory
  createAdvancedStatTopic('stats-mod-2', 'Properties of the Normal Distribution and the Z-Score', 'Mastering the bell curve and standardization.'),
  createAdvancedStatTopic('stats-mod-2', 'Linear Combinations of Independent Normal Random Variables', 'Understanding how normal variables combine.'),
  createAdvancedStatTopic('stats-mod-2', 'Multivariate Normal Distribution', 'The cornerstone of modern portfolio theory.'),
  createAdvancedStatTopic('stats-mod-2', 'Marginal and Conditional Distributions of Multivariate Normal', 'Dissecting multi-asset models.'),
  createAdvancedStatTopic('stats-mod-2', 'Applications in Portfolio Theory and Financial Modeling', 'Putting the multivariate normal to practical use.'),
  createAdvancedStatTopic('stats-mod-2', "The t-Distribution (Student's t)", 'The essential tool for inference with small samples.'),
  createAdvancedStatTopic('stats-mod-2', 'The χ² (Chi-Squared) Distribution', 'The basis for tests of variance and goodness-of-fit.'),
  createAdvancedStatTopic('stats-mod-2', 'The F-Distribution (Fisher–Snedecor)', 'The key to comparing variances between two groups (ANOVA).'),
  createAdvancedStatTopic('stats-mod-2', 'Convergence in Probability and the Weak Law of Large Numbers (WLLN)', 'Why casino averages are so stable.'),
  createAdvancedStatTopic('stats-mod-2', 'Convergence in Distribution and the Central Limit Theorem (CLT)', 'Why the normal distribution is everywhere.'),
  createAdvancedStatTopic('stats-mod-2', "Slutsky's Theorem and the Delta Method", 'Tools for approximating the distribution of functions of random variables.'),
  
  // Module 3: Statistical Inference & Estimation Theory
  createAdvancedStatTopic('stats-mod-3', 'Definition of a Statistic and an Estimator', 'Distinguishing between a function of data and a guess for a parameter.'),
  createAdvancedStatTopic('stats-mod-3', 'Unbiasedness, Bias, and Asymptotic Unbiasedness', 'Evaluating the accuracy of estimators.'),
  createAdvancedStatTopic('stats-mod-3', 'Efficiency and the Cramér-Rao Lower Bound (CRLB)', 'Finding the "best" possible unbiased estimator.'),
  createAdvancedStatTopic('stats-mod-3', 'Consistency and Sufficiency', 'Properties of estimators that improve with more data.'),
  createAdvancedStatTopic('stats-mod-3', 'Method of Moments (MoM) Estimation', 'A straightforward technique for finding estimators.'),
  createAdvancedStatTopic('stats-mod-3', 'Maximum Likelihood Estimation (MLE)', 'The most important method for parameter estimation in finance.'),
  createAdvancedStatTopic('stats-mod-3', 'Finding MLE Estimates via Optimization', 'The practical side of implementing MLE.'),
  createAdvancedStatTopic('stats-mod-3', 'General Construction of Confidence Intervals (CIs)', 'A framework for creating intervals for any parameter.'),
  createAdvancedStatTopic('stats-mod-3', 'Deriving CIs for Mean and Variance', 'Using t, χ², and Z pivotal quantities to build intervals.'),
  createAdvancedStatTopic('stats-mod-3', 'Null vs. Alternative Hypotheses, Type I and II Errors', 'The fundamental setup of all hypothesis tests.'),
  createAdvancedStatTopic('stats-mod-3', 'Neyman-Pearson Lemma for Optimal Tests', 'Finding the most powerful test for a given significance level.'),
  createAdvancedStatTopic('stats-mod-3', "Likelihood Ratio Tests (LRT) and Wilks' Theorem", 'A general method for comparing nested models.'),
  createAdvancedStatTopic('stats-mod-3', 'Testing with p-values and Critical Regions', 'The two equivalent approaches to making a statistical decision.'),
  
  // Module 4: Linear Modeling & Econometrics
  createAdvancedStatTopic('stats-mod-4', 'Simple Linear Regression (SLR)', 'Modeling the relationship between two variables.'),
  createAdvancedStatTopic('stats-mod-4', 'Derivation of the OLS Estimators', 'The calculus behind finding the "best fit" line.'),
  createAdvancedStatTopic('stats-mod-4', 'Properties of the Fitted Model (R-Squared, Residuals)', 'Assessing how well your linear model fits the data.'),
  createAdvancedStatTopic('stats-mod-4', 'Multiple Linear Regression (MLR) in Matrix Form', 'Extending SLR to multiple predictors using linear algebra.'),
  createAdvancedStatTopic('stats-mod-4', 'Derivation of the MLR OLS Estimator', 'The matrix algebra for solving a multiple regression problem.'),
  createAdvancedStatTopic('stats-mod-4', 'Gauss-Markov Theorem and the BLUE Property', 'The theoretical justification for using OLS.'),
  createAdvancedStatTopic('stats-mod-4', 't-tests for Individual Coefficients', 'Testing the significance of a single predictor.'),
  createAdvancedStatTopic('stats-mod-4', 'F-tests for Joint Hypotheses and Overall Model Significance', 'Testing the significance of a group of predictors or the entire model.'),
  createAdvancedStatTopic('stats-mod-4', 'Model Assumptions (Linearity, Exogeneity, Homoskedasticity)', 'The critical assumptions that must hold for OLS to be valid.'),
  createAdvancedStatTopic('stats-mod-4', 'Multicollinearity and Variance Inflation Factor (VIF)', 'Diagnosing when predictors are too correlated with each other.'),
  createAdvancedStatTopic('stats-mod-4', 'Heteroskedasticity: Detection and Robust Standard Errors', 'Handling non-constant variance in the error terms.'),
  createAdvancedStatTopic('stats-mod-4', 'Autocorrelation: Durbin-Watson Test', 'Detecting patterns in the error terms over time.'),

  // Module 5: Time Series Analysis & Computational Methods
  createAdvancedStatTopic('stats-mod-5', 'Characteristics of Time Series: Trend, Seasonality, Cycles', 'Decomposing the components of a time series.'),
  createAdvancedStatTopic('stats-mod-5', 'Strict vs. Weak Stationarity', 'The most important property for modeling time series data.'),
  createAdvancedStatTopic('stats-mod-5', 'Autocorrelation Function (ACF) and Partial Autocorrelation Function (PACF)', 'The key tools for identifying the structure of a time series.'),
  createAdvancedStatTopic('stats-mod-5', 'ARIMA Models', 'A class of models for forecasting time series data.'),
  createAdvancedStatTopic('stats-mod-5', 'GARCH Models for Volatility', 'Modeling the changing volatility of financial returns.'),
  createAdvancedStatTopic('stats-mod-5', 'Monte Carlo Simulation for Pricing and Risk', 'Using random simulation to solve complex problems.'),
  createAdvancedStatTopic('stats-mod-5', 'Bootstrapping for Estimating Standard Errors', 'A powerful resampling method for inference.'),
  createAdvancedStatTopic('stats-mod-5', 'Jackknife Resampling Techniques', 'A related method for bias and variance estimation.'),
  createAdvancedStatTopic('stats-mod-5', 'Introduction to Random Walks and Martingales', 'The mathematical foundation of efficient markets.'),
  createAdvancedStatTopic('stats-mod-5', 'Geometric Brownian Motion (GBM)', 'The standard model for stock price paths.'),

  // Module 6: Advanced Quant Modeling & Numerical Methods
  createAdvancedStatTopic('stats-mod-6', 'Generalized Linear Models (GLMs)', 'Extending linear models to non-normal data.'),
  createAdvancedStatTopic('stats-mod-6', 'Logistic Regression for Binary Outcomes', 'Modeling probabilities, such as the probability of default.'),
  createAdvancedStatTopic('stats-mod-6', 'Poisson Regression for Count Data', 'Modeling the frequency of events.'),
  createAdvancedStatTopic('stats-mod-6', 'Ridge Regression (L2 Penalty)', "A technique to handle multicollinearity and prevent overfitting."),
  createAdvancedStatTopic('stats-mod-6', 'LASSO Regression (L1 Penalty) for Feature Selection', 'A powerful method for automatically selecting important variables.'),
  createAdvancedStatTopic('stats-mod-6', 'Cross-Validation for Hyperparameter Tuning', 'The gold standard for selecting model parameters.'),
  createAdvancedStatTopic('stats-mod-6', 'Bayesian Inference: Priors, Likelihood, and Posteriors', 'An alternative framework for statistical inference.'),
  createAdvancedStatTopic('stats-mod-6', 'Markov Chain Monte Carlo (MCMC)', 'The computational engine behind modern Bayesian analysis.'),
  createAdvancedStatTopic('stats-mod-6', 'Numerical Optimization: Newton-Raphson & Gradient Descent', 'The algorithms that power MLE and machine learning.'),
  createAdvancedStatTopic('stats-mod-6', 'Implementing OLS and MLE in Python/R', 'Practical coding examples of core statistical techniques.'),
];
